<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.myshop.mapper.ProductMapper">
<resultMap type="com.myshop.domain.ProductVO" id="productMap">
	<result property="id" column="product_id"/>
	<result property="name" column="product_name"/>
	<result property="price" column="product_price"/>
	<result property="stock" column="product_stock"/>
	<result property="src" column="product_img_src"/>
	<result property="categoryname" column="category_name"/>
</resultMap>
 <insert id="categoryRegister">
 	insert into myshop_category
 	values(#{categoryname})
 </insert>
 <select id="categorylist" resultType="String">
 	select * from myshop_category
 </select>
 <delete id="categoryDelete">
 	delete from myshop_category
 	where category_name = #{categoryname}
 </delete>
 <insert id="productRegister">
 	insert into myshop_product values
 	(myshop_product_seq.nextval,#{name},#{price},#{stock},#{src},#{categoryname})
 </insert>
 <select id="productList"  resultMap="productMap">
 	select * from myshop_product
 	<if test="categoryname != ''">
 		<where>
 			category_name = #{categoryname}
 		</where>
 	</if>
 	order by product_id desc
 </select>
 <select id="productGet" resultMap="productMap">
 	select * from myshop_product
 	where product_id = #{id}
 </select>
 
</mapper>
